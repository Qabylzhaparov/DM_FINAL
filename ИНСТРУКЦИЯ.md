# üì± –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É API –¥–ª—è Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –º–æ–¥–µ–ª–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `obesity_model.pkl` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, —á—Ç–æ –∏ `api.py`

> üí° –§–∞–π–ª –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –Ω–æ—É—Ç–±—É–∫–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —è—á–µ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

### 3. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

**Windows:**
```bash
python api.py
```
–∏–ª–∏
```bash
start_server.bat
```

**Linux/Mac:**
```bash
python api.py
```
–∏–ª–∏
```bash
chmod +x start_server.sh
./start_server.sh
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:8000/docs`

–í—ã —É–≤–∏–¥–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API, –≥–¥–µ –º–æ–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã.

## üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–∑ Android

### –ë–∞–∑–æ–≤—ã–π URL
```
http://–í–ê–®_IP_–ê–î–†–ï–°:8000
```

### Endpoint –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
```
POST http://–í–ê–®_IP_–ê–î–†–ï–°:8000/predict
```

### –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏:

```json
{
  "Gender": "Male",
  "Age": 25.0,
  "Height": 1.75,
  "Weight": 75.0,
  "family_history_with_overweight": "no",
  "FAVC": "no",
  "FCVC": 2.0,
  "NCP": 3.0,
  "CAEC": "Sometimes",
  "SMOKE": "no",
  "CH2O": 2.0,
  "SCC": "no",
  "FAF": 1.0,
  "TUE": 1.0,
  "CALC": "Sometimes",
  "MTRANS": "Public_Transportation"
}
```

### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

```json
{
  "predicted_class": "Normal_Weight",
  "confidence": 0.95,
  "all_probabilities": {
    "Insufficient_Weight": 0.01,
    "Normal_Weight": 0.95,
    "Obesity_Type_I": 0.02,
    "Obesity_Type_II": 0.01,
    "Obesity_Type_III": 0.0,
    "Overweight_Level_I": 0.01,
    "Overweight_Level_II": 0.0
  }
}
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 1. –£–∑–Ω–∞–π—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞

**Windows:**
```bash
ipconfig
```
–ù–∞–π–¥–∏—Ç–µ IPv4 –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: 192.168.1.100)

**Linux/Mac:**
```bash
ifconfig
```
–∏–ª–∏
```bash
ip addr show
```

### 2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 8000 –æ—Ç–∫—Ä—ã—Ç –≤ —Ñ–∞–π—Ä–≤–æ–ª–µ

**Windows:**
- –û—Ç–∫—Ä–æ–π—Ç–µ "–ë—Ä–∞–Ω–¥–º–∞—É—ç—Ä –ó–∞—â–∏—Ç–Ω–∏–∫–∞ Windows"
- –†–∞–∑—Ä–µ—à–∏—Ç–µ –≤—Ö–æ–¥—è—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç 8000

**Linux:**
```bash
sudo ufw allow 8000
```

### 3. –í Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```kotlin
val baseUrl = "http://192.168.1.100:8000"  // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à IP
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:

```bash
python test_api.py
```

–≠—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç –≤—Å–µ endpoints –∏ –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã.

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
2. **–î–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞:** –ù—É–∂–µ–Ω –ø—É–±–ª–∏—á–Ω—ã–π IP –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ
3. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –¥–æ–±–∞–≤—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ HTTPS

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–µ `README_API.md`

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "–ú–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `obesity_model.pkl` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ, —á—Ç–æ –∏ `api.py`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–æ—É—Ç–±—É–∫ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –∑–∞–Ω–æ–≤–æ

### –û—à–∏–±–∫–∞: "Port already in use"
- –ò–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ `api.py`: `uvicorn.run(app, host="0.0.0.0", port=8001)`
- –ò–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –ø–æ—Ä—Ç 8000

### Android –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ –æ–¥–Ω–æ–π —Å–µ—Ç–∏ Wi-Fi
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π—Ä–≤–æ–ª
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π IP –∞–¥—Ä–µ—Å

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏
2. Endpoint `/health` - –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å `{"status": "healthy"}`
3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `/docs`

